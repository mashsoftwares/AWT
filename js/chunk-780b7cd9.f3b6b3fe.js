(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-780b7cd9"],{"1d50":function(t,e,a){"use strict";a("5191")},"44b4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{dir:"rtl"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",{staticClass:"mt-7",attrs:{outlined:""}},[a("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[a("v-avatar",{attrs:{color:"black",size:"150"}})],1),a("v-row",{attrs:{justify:"center"}},[a("v-card-title",{staticClass:"text-center display-1"},[t._v(" "+t._s(t.userDetails.first_name)+" "+t._s(t.userDetails.last_name)+" ")])],1),a("v-divider"),a("v-row",{attrs:{justify:"end"}},[a("v-col",{staticClass:"ml-7",attrs:{cols:"1"}},[a("v-btn",{attrs:{outlined:t.readOnly,dark:!t.readOnly,color:t.readOnly?"":"black",icon:""},on:{click:function(e){return t.editFields()}}},[a("v-icon",[t._v("mdi-pen ")])],1)],1)],1),a("v-card-content",[a("v-row",{staticClass:"wrap mx-2"},[a("v-col",{attrs:{xs:"12",lg:"6"}},[a("v-text-field",{attrs:{label:"الاسم الاول",filled:"",disabled:t.readOnly},model:{value:t.userDetails.first_name,callback:function(e){t.$set(t.userDetails,"first_name",e)},expression:"userDetails.first_name"}})],1),a("v-col",{attrs:{xs:"12",lg:"6"}},[a("v-text-field",{attrs:{label:"الاسم الاخير ",filled:"",disabled:t.readOnly},model:{value:t.userDetails.last_name,callback:function(e){t.$set(t.userDetails,"last_name",e)},expression:"userDetails.last_name"}})],1)],1),a("v-row",{staticClass:"mx-2"},[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-text-field",{attrs:{label:"البريد الاكتروني ",filled:"",disabled:t.readOnly},model:{value:t.userDetails.email,callback:function(e){t.$set(t.userDetails,"email",e)},expression:"userDetails.email"}})],1),a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-text-field",{attrs:{label:"كلمة السر",filled:"",type:"password",disabled:""},model:{value:t.userDetails.password,callback:function(e){t.$set(t.userDetails,"password",e)},expression:"userDetails.password"}})],1)],1)],1),a("v-card-actions",[t.readOnly?t._e():a("v-btn",{staticClass:"font-weight-bold subtitle-1",attrs:{block:"",color:"black",outlined:"",loading:t.isPasswordBtnLoading,dark:""},on:{click:t.requestPasswordLink}},[t._v("اعادة ضبط كلمة السر")])],1),t.readOnly?t._e():a("v-btn",{staticClass:"font-weight-bold subtitle-1",attrs:{block:"",color:"black",dark:""},on:{click:t.updateUser}},[t._v("حفظ التغيرات")])],1)],1)],1),a("br"),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{xs:"12",md:"6"}},[a("v-card",{attrs:{outlined:"",disabled:"",loading:""}},[a("v-card-title",{staticClass:"display-1"},[t._v("ادوات قمت بتحميلها")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"20vh","overflow-y":"scroll"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-avatar",{attrs:{size:"150"}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-account-alert")])],1)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("p",[t._v("جاري التحميل")])])],1)],1)],1)],1),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")],1)},r=[],i=a("1da1"),n=a("d4ec"),l=a("bee2"),o=a("262e"),c=a("2caf"),d=(a("96cf"),a("d3b7"),a("ac1f"),a("5319"),a("9ab4")),u=a("1b40"),v=a("45af"),f=a("6b11"),b=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.loggedUser=t.$store.getters["login/user"],t.accessToken=t.$store.getters["login/token"],t.uneditable=!0,t.isPasswordBtnLoading=!1,t.PasswordRestMsg="",t.userDetails={first_name:"",last_name:"",emai:"",password:"",avatar:"",title:"",description:""},t}return Object(l["a"])(a,[{key:"readOnly",get:function(){return this.uneditable}},{key:"test",value:function(){alert("hi")}},{key:"created",value:function(){null==this.loggedUser&&void 0==this.loggedUser||(this.userDetails=this.loggedUser,this.userDetails.avatar=f["a"].LocalhostImages+this.userDetails.avatar)}},{key:"editFields",value:function(){this.uneditable=!this.uneditable}},{key:"updateUser",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.loggedUser,t.next=3,fetch(f["a"].Authenticateion.UpdateUser.replace("{id}",e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({first_name:e.first_name,last_name:e.last_name,email:e.email,title:e.title})});case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,s=s.data,localStorage.setItem("user",JSON.stringify(s)),this.userDetails=this.loggedUser,this.editFields();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"requestPasswordLink",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.loggedUser,this.isPasswordBtnLoading=!0,t.next=4,fetch(f["a"].Authenticateion.requestPassword,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({email:e.email})});case 4:a=t.sent,a.ok&&(this.isPasswordBtnLoading=!1,this.PasswordRestMsg="تم أرسال رابط اعادة ضبط كلمة السر الى بريدك الالكتروني ",alert("email sent successfully"));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(u["d"]);b=Object(d["a"])([Object(u["a"])({components:{TextField:v["a"]}})],b);var m=b,h=m,p=(a("1d50"),a("2877")),g=a("6544"),w=a.n(g),y=a("8212"),k=a("8336"),x=a("b0af"),_=a("99d9"),O=a("62ad"),D=a("ce7e"),j=a("132d"),C=a("0fd9"),P=a("8654"),T=Object(p["a"])(h,s,r,!1,null,"665cd53a",null);e["default"]=T.exports;w()(T,{VAvatar:y["a"],VBtn:k["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:O["a"],VDivider:D["a"],VIcon:j["a"],VRow:C["a"],VTextField:P["a"]})},5191:function(t,e,a){}}]);
//# sourceMappingURL=chunk-780b7cd9.f3b6b3fe.js.map